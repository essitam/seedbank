{"version":3,"sources":["helpers/axiosConfig.js","components/EventCreate.js","components/EventList.js","pages/events.js","components/AuthLogin.js","components/AuthSignup.js","components/AuthLogout.js","pages/auth.js","App.js","helpers/withAuth.js","index.js"],"names":["app","axios","create","baseURL","interceptors","response","use","error","err","get","Promise","reject","message","EventCreate","props","state","eventname","sponges","handleChange","bind","submit","e","this","setState","target","name","value","preventDefault","post","then","event","console","log","catch","onSubmit","type","placeholder","onChange","Component","EventList","events","data","map","id","key","toString","EventsPage","to","AuthLogin","email","password","login","res","status","localStorage","setItem","token","AuthSignup","username","signup","AuthLogout","logout","clear","AuthPage","MainPage","App","exact","path","component","ComponentToProtect","loading","redirect","headers","getItem","Fragment","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.548f3bf2.chunk.js","sourcesContent":["import get from \"lodash/get\";\nimport axios from \"axios\";\n\nconst app = axios.create({\n  baseURL: process.env.NODE_ENV === 'prod' ? 'https://3ecologies-seedbank.com' : 'http://localhost:50000'\n});\n\n// axios consumes rejected API responses by default,\n// so the configuration below intercepts the those\n// responses and passes them down to the function that\n// uses our custom \"app\" axios configuration.\napp.interceptors.response.use(\n  response => response,\n  error => {\n    const err = get(error, [\"response\", \"data\", \"err\"]);\n\n    // \"err\" refers to the response returned from the API when\n    // a response is rejected. \"err\" can be named anything, but it\n    // must be consistent across all your API routes (for example, see\n    // anarchive/routes/api => verify route => \"catch\" sends the \"err\")\n    return Promise.reject(err ? err : error.message);\n  }\n);\n\nexport default app;","import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass EventCreate extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {eventname: '', sponges: ''};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.submit = this.submit.bind(this);\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t}\n\n\tsubmit(e) {\n\t\te.preventDefault();\n\t\taxios.post('/api/events', {\n\t\t\tname: this.state.eventname,\n\t\t\tsponges: this.state.sponges\n\t\t})\n\t \t.then(event => { console.log('Created event: ' + event); })\n\t \t.catch(err => { console.log(err); })\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<form onSubmit={this.submit}>\n\t          <label>Create an event\n\t          \t<br/><br/>\n\t          \t<input type=\"text\" name=\"eventname\" placeholder=\"name\" value={this.state.value} onChange={this.handleChange}/>\n\t          \t<input type=\"text\" name=\"sponges\" placeholder=\"sponges\" value={this.state.value} onChange={this.handleChange}/>\t          \n\t          </label>\n\t          <br/>\n\t\t      <input type=\"submit\" value=\"Create\"/>\n\t\t    </form>\n\t\t)\n\t}\n}\n\nexport default EventCreate;\n","import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass EventList extends Component {\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\tevents: []\n\t\t}\n\t}\n\tcomponentDidMount() {\n\t\taxios.get('/api/events')\n\t\t\t .then(events => {\n\t\t\t \tthis.setState({events: events.data})\n\t\t\t })\n\t\t\t .catch(err => console.log(err))\n\t}\n\trender() {\n\t\tvar events = this.state.events;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<p>Events:</p>\n\t\t\t\t<ul>\n\t\t\t\t\t{ events.map(({ id, name, data }) => (\n\t\t\t\t\t\t<li key={id.toString()}>{name} {data}</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default EventList;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport EventCreate from '../components/EventCreate';\nimport EventList from '../components/EventList';\n\nconst EventsPage = () => {\n\treturn (\n\t\t<div>\n\t\t\t<EventCreate/>\n\t\t\t<EventList/>\n\t\t\t<br/><br/>\n\t\t\t<Link to='/'>Back to entryway</Link>\n\t\t</div>\n\t);\n}\n\nexport default EventsPage;\n","import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass AuthLogin extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {email: '', password: ''};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.login = this.login.bind(this);\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t}\n\n\tlogin(e) {\n\t\te.preventDefault();\n\t\taxios.post('/api/auth/login', {\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password\n\t\t})\n\t\t.then(res => {\n\t\t\tif (res.status === 200) {\n\t\t\t\tlocalStorage.setItem('token', res.data.token);\n\t\t\t}\n\t\t})\n\t \t.catch(err => console.log(err));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<form onSubmit={this.login}>\n\t\t          <label>Login\n\t\t          \t<br/><br/>\n\t\t          \t<input type=\"text\" name=\"email\" placeholder=\"email\" value={this.state.value} onChange={this.handleChange}/>\n\t\t          \t<input type=\"text\" name=\"password\" placeholder=\"password\" value={this.state.value} onChange={this.handleChange}/>\n\t\t          </label>\n\t\t          <br/>\n\t\t\t      <input type=\"submit\" value=\"Login\"/>\n\t\t\t    </form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default AuthLogin;\n","import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass AuthSignup extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {username: '', email: '', password: ''};\n\t\tthis.handleChange = this.handleChange.bind(this);\n\t\tthis.signup = this.signup.bind(this);\n\t}\n\n\thandleChange(e) {\n\t\tthis.setState({ [e.target.name]: e.target.value });\n\t}\n\n\tsignup(e) {\n\t\te.preventDefault();\n\t\taxios.post('/api/auth/signup', {\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password,\n\t\t\tusername: this.state.username\n\t\t})\n\t\t.then(res => {\n\t\t\tif (res.status === 200) {\n\t\t\t\tlocalStorage.setItem('token', res.data.token);\n\t\t\t}\n\t\t})\n\t \t.catch(err => console.log(err));\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<form onSubmit={this.signup}>\n\t\t          <label>Need to signup?\n\t\t          \t<br/><br/>\n\t\t          \t<input type=\"text\" name=\"username\" placeholder=\"username\" value={this.state.value} onChange={this.handleChange}/>\n\t\t          \t<input type=\"text\" name=\"email\" placeholder=\"email\" value={this.state.value} onChange={this.handleChange}/>\n\t\t          \t<input type=\"text\" name=\"password\" placeholder=\"password\" value={this.state.value} onChange={this.handleChange}/>\n\t\t          </label>\n\t\t          <br/>\n\t\t\t      <input type=\"submit\" value=\"Signup\"/>\n\t\t\t    </form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default AuthSignup;","import React, { Component } from 'react';\n\nclass AuthLogout extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.logout = this.logout.bind(this);\n\t}\n\n\tlogout(e){\n\t\tlocalStorage.clear();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<form onSubmit={this.logout}>\n\t\t\t      <input type=\"submit\" value=\"Logout\"/>\n\t\t\t    </form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default AuthLogout;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport AuthLogin from '../components/AuthLogin';\nimport AuthSignup from '../components/AuthSignup';\nimport AuthLogout from '../components/AuthLogout';\n\nconst AuthPage = () => {\n\treturn (\n\t\t<div>\n\t\t\t<AuthLogin/>\n\t\t\t<br/><br/>\n\t\t\t<AuthSignup/>\n\t\t\t<br/><br/>\n\t\t\t<Link to='/'>Back to entryway</Link>\n\t\t\t<br/><br/>\n\t\t\t<AuthLogout/>\n\t\t</div>\n\t);\n}\n\nexport default AuthPage;","import React, { Component } from 'react';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport withAuth from './helpers/withAuth';\nimport EventsPage from './pages/events';\nimport AuthPage from './pages/auth';\n\nconst MainPage = () => {\n\treturn (\n\t\t<div>\n\t\t\t<p>o0Oo0o 3ntryw4y o0oO0o</p>\n\t\t\t<br/>\n\t\t\t<Link to='/events'>Go to events</Link>\n\t\t\t<br/><br/>\n\t\t\t<Link to='/auth'>Login or signup</Link>\n\t\t</div>\n\t);\n}\n\nclass App extends Component {\n  render() {\n    return (\n    \t<Switch>\n    \t\t<Route exact path='/auth' component={AuthPage} />\n    \t\t<Route exact path='/events' component={withAuth(EventsPage)} />\n    \t\t<Route exact path='/' component={MainPage} />\n    \t</Switch>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n// import axios from 'axios';\nimport app from \"./axiosConfig\";\n\n// wraps component in router config to require authentication\n\nexport default function withAuth(ComponentToProtect) {\n  return class extends Component {\n    constructor() {\n      super();\n      this.state = {\n        loading: true,\n        redirect: false,\n      };\n    }\n    componentDidMount() {\n      const headers = {\n        'authorization': 'Bearer ' + localStorage.getItem('token')\n      };\n\n      app.get('/api/auth/verify', { headers: headers })\n      .then(res => {\n        if (res.status === 200) {\n            this.setState({ loading: false });\n        } else {\n            this.setState({ loading: false, redirect: true });\n        }\n      })\n      .catch(err => {\n        this.setState({ loading: false, redirect: true });\n      });\n    }\n    render() {\n      const { loading, redirect } = this.state;\n      if (loading) {\n        return null;\n      }\n      if (redirect) {\n        return <Redirect to=\"/auth\" />;\n      }\n      return (\n        <React.Fragment>\n          <ComponentToProtect {...this.props} />\n        </React.Fragment>\n      );\n    }\n  }\n}\n","import React from 'react';\nimport App from './App';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n\t<Router>\n\t\t<App />\n\t</Router>, \n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.register();\n"],"sourceRoot":""}